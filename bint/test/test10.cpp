#include <iostream>
#include <chrono>
#include "../bint.hpp"

int main()
{
    std::cout<<"SHIFT TEST 10\n\n";
    apa::bint a = 723, b = 23579, c, d, e = 762;

    for(size_t i=5; i--;)
    {
        #ifdef BENCHMARK
        auto start = std::chrono::high_resolution_clock::now();
        #endif
        c = a<<b;
        #ifdef BENCHMARK
        auto end = std::chrono::high_resolution_clock::now();
        auto dur = std::chrono::duration_cast<std::chrono::nanoseconds>(end-start);
        std::cout<<"left shift proccess taken  "<<dur.count()<<" nanoseconds\n";
        #endif
    }

    for(size_t i=5; i--;)
    {
        #ifdef BENCHMARK
        auto start = std::chrono::high_resolution_clock::now();
        #endif
        d = c>>e;
        #ifdef BENCHMARK
        auto end = std::chrono::high_resolution_clock::now();
        auto dur = std::chrono::duration_cast<std::chrono::nanoseconds>(end-start);
        std::cout<<"right shift proccess taken "<<dur.count()<<" nanoseconds\n";
        #endif
    }

    if(c.string_form()!="70049664292896417903054152153475911005481968417234503521853835813058707174467987857312300254748772888360169206340958697683170490491888990897899480790323110839720796979535554875072358060710808740057951964011904145838123973454109430587327081249193136357277346112547347229128775119996969801482506368867922048551658899854280315590506675103539919552176241250307409976607956362292308241369525550376303531335493716643010247873467219027541376361544574834597743746903661980642926226709782550393904340337218200961297432887971849327907056131611271081367810223593399274792966673231516228050248650498258690995946125164258464955100821824963204710336358082186739623479862080953441459466162480168333918623427287632489407401247267529513455121472117934351230277885672136342976516141546398147059747130136500555609730349317032634530149903845282619599719909230287213690181160230626808952242074108688684860155234180164517706667072555150647838668976412601378742442681885383931029893684576491407519927175358353840820013470718589083225641235061133737828739450702532071945984581315142563002146938796680676025808074137142258932679803846687100234571538123704410893982309721796305736817536128958183546163518624402295344989425546978294028190581590274056235734664970322747975258285354363185455789826083829323648694906230457505178667856133408595090285480625704420358981909252893111181897099827086278058060619801116332130806687125882127647334382347773397786560016756253331757820407205782443175038709693569809656156923811209186481015096467548339394473106213682797215245220815808710405355491877046146719051415063820263906065389040057603348209825989175891456386158030466726744247694740529245349662333993275521816760733633085276793840770217800904663440794035955989483162746974090729449696153924517105955103855674941528727114286028613031680878635556602051760078968827313171130408545501725492021570087542885991954871243632689990709429169267334903551525291382886590142236770049481295500683297178729078756508931484499198191433847924100542151051472196501649319259576259783602177613149749983027834292304905008746203410320613941528230918473274736619803666059247957555525870366219570606921792718515329221360858295336635496714719116160131771702777053749572578248065027660472311227810248354167273438368779034023503794125924846719547860041225181878353594528683300951422265210348755926646696604455826577078530508696782268613605035189257185802655350558885079604051956905683674514070393307200022286619534862835826187941276153251344138271276390247113425164603969836438000567011659363910520340950632547707847014648555258851084000021331070955847957592137642184786635579647801139514601902441680680872217807817773271448889927040745706668598769251880401105953294212961968530917576571604738890543007053034865543408084884167032996449999022949232127647210999934503140899413553902432017034014764170001959708288012734179342128544908715506431601433946862532187891859330988695613483562748122110301185581908023735086031732224463470291229498738210745537414251177980332757"
                        "21779930103775394821563203524764880321908511764490843042952411198898088614870748234723518363398206252208398084996421267567785436766770560479948354418230544290009876065306996897249803256817691872135339952971205685981028981889981545077669612427112669035239644461285440389693308092098645343021785736862922764870706709629639165112996373547321865360274935130628790111081948791856033150549394221443657987447522175249969502919479819178140909109575547780221300121636434074784228344518355852165758173333729090045334023625768899997679322399357215861301153604507565824677846904640999050693662980713581101890893497516285359425871464568297305417395486313224607401719737106727973155448550819087276174843972483705897345239865343823649840382907668761457688483940974034002451602715053775723556385480102850342057386818640283510854449766032988284791168296687403825749778737700930955747561624585264730282310540236782974142811486345848941575648611572648126556413096665068425492600607568388356019202877906203177822272440510494675669439060636855624487483486946233926677141964025295200706936422853276133498909099705052747386926913544440400788475068708095365245969170955700961597443601530862237017112731081634473049555590287199181818182155249079383750038349153288041936920650322150246394328285460209494111563891039282230864638726617304607785350199387982509122019333354005787719240682359466350415580923639574655384971823710163523843188399741321535566965085096513755710923576798726210417883895101895189639756987470057474748585147936200040316692114224389977089713982651412778942263058269350553706470504720993500976932832291230356695799878013841739311444877120121576121356347999568505492434304767786144582890905737494429844010828945776904580250015362624854190143955076533526996340178389236323153834142753006700896173547893924253131818931074419335690549592997230345427332526960114274238317747018672377820488035025189865724628713793742161209110262604618573386860963825088471153790260307519160079567336331617240702864745192794101346013802098446876316173607950549153122471817844233655606325164842530309003103773517793717785132190908525068724893486304757644779477657557456306658943461487553493465336047077627261736169766471885033090302017877969182701635338568092217917757002183041773091083689729674613939912477529682795130198293022755961609147452266013527830079868564106583003046840515882492274813427186414682448466211053787217802239670950516082254780207260871904994074327799563978519272770654974469982087332934886714011602379175103462597358729252700337081859513490497313949511896753479610379621526945188399226615683529205052041413586088451855543664428227159762069659754728213055277685286556504326979799047978476408583058424123767469579357504012896353223371019150688548089116006845114858265201405331087522534330236378474038759735052439844020476580196443060256652628971632660679284916496455437845299153246610500002424222841434062396401214619547596377882057670473820595493072006737010150362364871784187597591811563043138031121362938814528230"
                        "86113827856580060911525648148493488797807757524051485814870155356688745105175347463907434601282728534510066280539053798934430127309265278531766533810327384717147111829514448161091746659099145578255333745959131500943290250561893032245210843380450063155797761021167371957817233813929053296549800550398601189356756027093045183381094415730323362572266359132245444031438459841624529883453462009223398635102351507781632776202055610125568950444666907276637229383596768602681150812338432661941259154095628158652221511238317810850461794279425889529409082528781037821731189270358612811611872570748957622110205754744874573008146940727615935024858031518425036460874133086714675682312037898885524698969083718005719208773027963530270416984593986294262174286881893793134994000448550835081197371946853996979611577834508513758440878758584940575713054853645473419095045370104944336123998571433317959928105050316113785258181761168537828702066260092634502871910038973934292224951974275646230946866001398141343747164688770100199108449654805552391916663672253860277407070638745090830540177173689780555870973722624")
    {
        throw std::logic_error("test 10 : bint - Wrong left shift output");
    }

    if(d.string_form()!="2887681977413644834561135124804623213105799274574212971013377051671290673354116582974156033478010551951779773750170878712262734202942212161309083328553494809240302827508180904080244120706840688710049099079381378116274774522892400499060365818073056144799143352561989949908218079435502201135694033194628793542519985894307103510438448600353360554126487952279995103673751821651762897139534021748821472339329501276133639089148729397692099228582369243587719596311895066126500219614849017500036289964215791331891889796629693974368407907458340447466343040288373276502454269589647675180995795743321419152434192026141230148390167013311846710499273408735272260458927104682728489102372566433191402618769726171011746580219008493068832854761510250548627828594464974036675266312760688445006123823447451832659306036680873581742106014109508113093006187846480784576046335147844124098684268005810553695377561865290937042564285691424970647393398390932315644043654745368475737143674631587249759246845151847341277310835369189319601528619875746862085884402868775389662176212997602349163189843091683896973059401278"
                        "9971208057735612355033041706909697689179025847794140460991479300814016787265795426277809343368576284373312099355928667709998385076183208337555763512525668973145241170744867367015682868917726529280298877064679161069975240081013796917404057379148238660793479752650083129198187607800020038616048875012530841509405509024688867150955228428753742458926172249935089732787957864342045275754814277318606244493527168379696008597326128864158626972273038252891713984403661702678056683798250074149672355396504493084925821527827344204304914396250918763724855591904841490165447871059470371241063801285713684826985206862057985394847512040856691074682374675783293971642077771917886967370199866969012966984762158276883629930026110265849077662900965742794136688032260584100185374503401218966356153989404626512460699082874583618665912417311760685791980639682649964004111567048120360978828553500298556706166339222144436556016344185144099175985238758693863137051368809133271355689083004425722619714968022587972296294039603464970925365952660440927921711416879280061494929441724360461765821963196327187780349515633"
                        "2834952425617791870553164566714566269896513260876566455373633963587169209257967606227562523954995469175902163522064502759274558814224829363078966409193323404820731003946752459904064622601971026438151311446001920695152928468905325347547104818413683888494624840992478919440795512014574330175066614227620376073632017616159501571948072544024952565846686798089749041602524814606350473849938436734616291635911757487052813579274233185900886596949843290517859087516565488084856707637664081405123475513430584268768508733969071954314773334448913859500231150542409316439931367186062931298133574493897695736556657472109331633956309236673632164402154712917222598900578649824742168766925912107784399958988747500063700901544920598315434643822940973627099704164297760292044095768244323053876265300861004535426518359612992281040942372493264601018211309265854414795718141891207720085568223023729525061531092632175685642007044185915638887806787887381147789898501809651736509338286206034894820783599037130696513573865765992571085828364412166856465138014263577642009621842650942966647753983201494124047768441874"
                        "7486001823688748072695622799907051025715678867233038481683654930832038675750998307773559310156160336749014272736128950842981994916465076312237826346519796171591814544722182144811282087514404400963572860904229187516860038521986109790444234866647035382746668197205329687604087363781410779782712516529186372742288424582338877146896727594079910386186059828106377910720470854512532785330811240335434413152043834564983545919445817126575874096982489253425636076752127836645054245977900688684729508198336457302159100213669909428705414577208969729054797682655481742828446473935908570250450423469897460315662486260160627182988571255657437988146556329365139924180417377294343951897534490699847408040492822264132804951697330102320124517088758029327535157833285208242889080565106528047845513189168430123947385673857468299595110816694514412334304185764336586264110184771660685222834023720116250350431110401158766133782785306290949411413173889351601841043414978814924841039863188927205753116161739444374212833615858210685776546811453951932006553426486557855895378353278053964649941346482415123580738700237"
                        "4698234559257315055853924833616862688476636200638702688966668918033663791866756533719417008100800460405976327985025333517650053022621048128614645684677005180512586021135995343150636620656916664477104080108549567476856579907934835422151873798711575663208532413646229483594071351705678493981841621426967014909451060740218246487224771295547476809067386061704340217731047669512310577691930746969565985177528000955678752191958973182520097131136467363747083298467719750755847641208154406221222108831895705544046235642247101674607097049559332460975735019188762349799379892353935528050580192460622416271668739449139499898541067507101460670651241559559523932625427899072320705168995042246281799618826949696996407277112042902925947518467716286406644559592478704533989533489466582063922234378710931680789674086332997219837907511827385390361326543627487230630028767282529228469041268245626864265821699082275604172770282625314635918542670143196563707302769367472325846014443310868746739744207671440682400868499633346753698495264732559609914125090061708117106661054581234169943445174356781050116184628125"
                        "4161076196716588796480307832588115927381957434660303744386103607094875530760669072756837569877099532705868758925663003486766540225594639143772005635708947373808384906322549690273633059811354734410273793479545162986548612886721815355694262413983593983989950729961972370755389623223075764545744278623238308301617475971668563600110042583504288735296711407950969258567162610772947537813752202572615746672483489708140929948951146243744356851405051079344674708751393887391394778381571423677852774877050090646454849389297718702672861883039551463957389907434035857552198261284291790446576221369373761435768162505154038111225546456378489696402963932722591107574775374220519492950616955255466217272307008053449581408911707642708496035152939138714102457541825482548071707342495830523563026175133066642899860209354163475548187331438773399592256235320619341787683548653920636044074545919576834052562033959963765050631993696747849408786080593416145823496956623556667314521977265573997780210461691187953461166117286223903686918098115545340099147509881179827480424739132057429261450113301623874300899480179"
                        "11554739386044802659669147954430851953343854234040031267770653941805760454811964972708245082671660910696142625736425282111923524672630334039305450516540809376420396488137393254867860700235674600418174743840456114849511628014116145158257126194983982815596593602336802564563266744512389498753561619887553413348799869920020149416493056")
    {
        throw std::logic_error("test 10 : bint - Wrong right shift output");
    }

    std::cout<<"\n\n"<<a<<"<<"<<b<<" = "<<c<<"\n\n";

    std::cout<<"\n\n((723<<23579)>>762) = "<<d<<"\n";

    std::cout<<"\n\n bint - test10 passed\n";

    return 0;
}